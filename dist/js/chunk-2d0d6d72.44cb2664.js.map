{"version":3,"sources":["webpack:///./src/views/survey/SurveyUserResult.vue","webpack:///./src/views/survey/SurveyUserResult.vue?07f7"],"names":["class","style","survey","name","description","surveyResponse","user_organisation","user","organisation","topics","topic","key","id","questions","question","answer","answers","readonly","sub_topics","subtopic","label","goToSurveys","components","SurveyQuestion","data","topicNumber","computed","this","question_responses","forEach","console","log","direct_indicator_id","values","beforeRouteUpdate","to","from","next","initialize","created","methods","method","fetchSurvey","mId","fetchSurveyResponses","sId","OrganisationId","$route","params","surveyResponses","setSurveyResponse","$router","push","render"],"mappings":"0KACSA,MAAM,qC,GACFA,MAAM,iBAAiBC,MAAA,gC,GAGnBD,MAAM,e,EACX,eAAwD,QAAlDA,MAAM,2BAA0B,eAAW,G,EAAoD,eAAI,mB,EACzG,eAA0D,QAApDA,MAAM,2BAA0B,iBAAa,G,GAGlDA,MAAM,uBAAuBC,MAAA,uB,GAErBD,MAAM,wB,GAUFA,MAAM,wB,mHArB3B,eAiCM,MAjCN,EAiCM,CAhCF,eAOM,MAPN,EAOM,CANF,eAAwB,yBAAlB,EAAAE,OAAOC,MAAI,GACjB,eAA+B,yBAAzB,EAAAD,OAAOE,aAAW,GACxB,eAGM,MAHN,EAGM,CAFN,E,eAAwD,KAAE,eAAE,EAAAC,eAAeC,kBAAkBC,MAAM,KAAE,KACrG,E,eAA0D,KAAE,eAAE,EAAAF,eAAeC,kBAAkBE,cAAc,KAC7G,OAEJ,eAuBM,MAvBN,EAuBM,E,mBAtBF,eAoBM,2BApBe,EAAAN,OAAOO,QAAM,SAAtBC,G,wBAAZ,eAoBM,OApB+BC,IAAKD,EAAME,GAAIZ,MAAM,wBAAwBC,MAAA,uD,CAC9E,eAAuE,MAAvE,EAAuE,CAArC,eAA+B,UAA3B,WAAQ,eAAES,EAAMP,MAAI,M,mBAC1D,eAME,2BALiBO,EAAMG,WAAS,SAA3BC,G,wBADP,eAME,GAJDH,IAAKG,EAASF,GACdE,SAAUA,EACVC,OAAQ,EAAAC,QAAQF,EAASF,IACzBK,UAAU,G,2DAGX,eASM,2BATkBP,EAAMQ,YAAU,SAA5BC,G,wBAAZ,eASM,OATqCR,IAAKQ,EAASP,GAAIZ,MAAM,kBAAkBC,MAAA,qD,CACjF,eAA0E,MAA1E,EAA0E,CAAxC,eAAkC,UAA9B,WAAQ,eAAEkB,EAAShB,MAAI,M,mBAC5D,eAMH,2BALqBgB,EAASN,WAAS,SAA9BC,G,wBADN,eAMH,GAJGH,IAAKG,EAASF,GACdE,SAAUA,EACVC,OAAQ,EAAAC,QAAQF,EAASF,IACzBK,UAAU,G,6DAInB,eAAwG,GAAhGG,MAAM,gBAAgBpB,MAAM,0BAA0BC,MAAA,eAAqB,QAAO,EAAAoB,a,sHAQvF,GACXC,WAAY,CACRC,iBAAA,MAEJC,KAJW,WAKP,MAAO,CACHC,YAAa,IAGrBC,SAAU,+DACH,eAAS,SAAU,CAAC,YACpB,eAAS,SAAU,CAAC,YACpB,eAAS,iBAAkB,CAAC,kBAAmB,oBAH9C,IAKJV,QALM,WAMF,IAAMA,EAAU,GAOhB,OANIW,KAAKtB,gBAAkBsB,KAAKtB,eAAeuB,oBAC3CD,KAAKtB,eAAeuB,mBAAmBC,SAAQ,SAACd,GAC5Ce,QAAQC,IAAIhB,GACZC,EAAQD,EAAOiB,qBAAuBjB,EAAOkB,UAG9CjB,KAafkB,kBAnCW,SAmCQC,EAAIC,EAAMC,GACrBV,KAAKW,aACLD,KAERE,QAvCW,WAwCPZ,KAAKW,cAETE,QAAS,gDACF,eAAW,SAAU,CAAC,iBACtB,eAAW,iBAAkB,CAAC,uBAAwB,uBAFtD,IAIGF,WAJD,WAIe,+JAChBR,QAAQC,IAAI,EAAKU,QADD,SAEV,EAAKC,YAAY,CAAEC,IAAK,EAAKF,OAAO7B,GAAIA,GAAI,EAAKV,OAAOU,KAF9C,uBAGV,EAAKgC,qBAAqB,CAAED,IAAK,EAAKF,OAAO7B,GAAIiC,IAAK,EAAK3C,OAAOU,GAAIkC,eAAgB,EAAKC,OAAOC,OAAOF,iBAH/F,OAIhBhB,QAAQC,IAAI,EAAKkB,iBACjBnB,QAAQC,IAAI,EAAKgB,OAAOC,OAAOpC,IAC/B,EAAKsC,kBAAkB,CAAEtC,GAAI,EAAKmC,OAAOC,OAAOpC,KANhC,8CASpBS,YAbK,WAcDS,QAAQC,IAAI,IAAKJ,KAAKoB,OAAOC,QAC7BrB,KAAKwB,QAAQC,KAAK,CAAEjD,KAAM,sBAAuB6C,OAAQ,CAAEF,eAAgBnB,KAAKoB,OAAOC,OAAOF,sBC9F1G,EAAOO,OAASA,EAED","file":"js/chunk-2d0d6d72.44cb2664.js","sourcesContent":["<template>\r\n    <div class=\"p-d-flex p-grid p-jc-center p-m-0\">\r\n        <div class=\"p-col-12 p-p-3\" style=\"background-color: #dcedc8;\">\r\n            <h1>{{survey.name}}</h1>\r\n            <h3>{{survey.description}}</h3>\r\n            <div class=\"p-jc-center\">\r\n            <span class=\"p-text-left p-text-bold\">Respondent:</span> '{{surveyResponse.user_organisation.user}}' <br>\r\n            <span class=\"p-text-left p-text-bold\">organisation:</span> '{{surveyResponse.user_organisation.organisation}}'\r\n            </div>\r\n        </div>\r\n        <div class=\"p-grid p-col-6 p-p-3\" style=\"min-width: 800px;\">\r\n            <div v-for=\"topic in survey.topics\" :key=\"topic.id\" class=\"p-grid p-col-12 p-p-3\" style=\"background-color: #F5F5F5; border-radius: 10px;\">\r\n                <div class=\"p-col-12 p-text-left\"><h3>Topic: '{{topic.name}}</h3></div>\r\n                <survey-question\r\n                v-for=\"question in topic.questions\"\r\n                :key=\"question.id\"\r\n                :question=\"question\"\r\n                :answer=\"answers[question.id]\"\r\n                :readonly=\"true\"\r\n                />\r\n\r\n                <div v-for=\"subtopic in topic.sub_topics\" :key=\"subtopic.id\" class=\"p-col-12 p-my-3\" style=\"background-color: white; border-radius: 10px;\">\r\n                    <div class=\"p-col-12 p-text-left\"><h3>Topic: '{{subtopic.name}}</h3></div>\r\n                     <survey-question\r\n                    v-for=\"question in subtopic.questions\"\r\n                    :key=\"question.id\"\r\n                    :question=\"question\"\r\n                    :answer=\"answers[question.id]\"\r\n                    :readonly=\"true\"\r\n                />\r\n                </div>\r\n            </div>\r\n            <Button label=\"Go to surveys\" class=\"p-button-success p-mt-4\" style=\"width: 100%\" @click=\"goToSurveys\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nimport SurveyQuestion from '../../components/survey/SurveyQuestion'\r\nexport default {\r\n    components: {\r\n        SurveyQuestion\r\n    },\r\n    data () {\r\n        return {\r\n            topicNumber: 0\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('method', ['method']),\r\n        ...mapState('survey', ['survey']),\r\n        ...mapState('surveyResponse', ['surveyResponses', 'surveyResponse']),\r\n        // ...mapState('surveyResponseCalculation', ['surveyResponseCalculations']),\r\n        answers () {\r\n            const answers = {}\r\n            if (this.surveyResponse && this.surveyResponse.question_responses) {\r\n                this.surveyResponse.question_responses.forEach((answer) => {\r\n                    console.log(answer)\r\n                    answers[answer.direct_indicator_id] = answer.values\r\n                })\r\n            }\r\n            return answers\r\n        }\r\n        // calculations() {\r\n\t\t// \tconst calculations = {};\r\n\t\t// \tif (this.surveyResponseCalculations.length) {\r\n\t\t// \t\tthis.surveyResponseCalculations.forEach((calculation) => {\r\n\t\t// \t\t\tcalculations[calculation.topic] = !calculations[calculation.topic]\r\n\t\t// \t\t\t\t? [calculation] : [...calculations[calculation.topic], calculation];\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// \treturn calculations;\r\n\t\t// },\r\n    },\r\n    beforeRouteUpdate (to, from, next) {\r\n            this.initialize()\r\n            next()\r\n    },\r\n    created () {\r\n        this.initialize()\r\n    },\r\n    methods: {\r\n        ...mapActions('survey', ['fetchSurvey']),\r\n        ...mapActions('surveyResponse', ['fetchSurveyResponses', 'setSurveyResponse']),\r\n        // ...mapActions('surveyResponseCalculation', ['fetchSurveyResponseCalculations']),\r\n        async initialize () {\r\n            console.log(this.method)\r\n            await this.fetchSurvey({ mId: this.method.id, id: this.survey.id })\r\n            await this.fetchSurveyResponses({ mId: this.method.id, sId: this.survey.id, OrganisationId: this.$route.params.OrganisationId })\r\n            console.log(this.surveyResponses)\r\n            console.log(this.$route.params.id)\r\n            this.setSurveyResponse({ id: this.$route.params.id })\r\n            // await this.fetchSurveyResponseCalculations({ mId: this.method.id, sId: this.survey.id, id: this.surveyResponse.id })\r\n        },\r\n        goToSurveys () {\r\n            console.log('d', this.$route.params)\r\n            this.$router.push({ name: 'organisationsurveys', params: { OrganisationId: this.$route.params.OrganisationId } })\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./SurveyUserResult.vue?vue&type=template&id=8584c952\"\nimport script from \"./SurveyUserResult.vue?vue&type=script&lang=js\"\nexport * from \"./SurveyUserResult.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}