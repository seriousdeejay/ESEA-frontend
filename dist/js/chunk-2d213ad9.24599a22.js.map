{"version":3,"sources":["webpack:///./src/views/organisation/OrganisationSettings.vue","webpack:///./src/views/organisation/OrganisationSettings.vue?d10d"],"names":["class","style","for","id","organisation","name","required","autofocus","submitted","description","rows","cols","boolChoice","options","ispublicbool","optionLabel","ispublicDialog","disabled","label","editOrganisation","deleteOrganisationDialog","visible","header","modal","footer","icon","removeOrganisation","data","value","computed","created","this","initialize","methods","ispublic","updateOrganisation","$toast","add","severity","summary","detail","life","deleteOrganisation","$router","push","render"],"mappings":"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","file":"js/chunk-2d213ad9.24599a22.js","sourcesContent":["<template>\r\n    <div class=\"p-px-5\" style=\"width: 500px\">\r\n        <div class=\"p-fluid p-text-left p-my-5\">\r\n            <div class=\"p-field\">\r\n                <label for=\"name\">Name</label>\r\n                <InputText id=\"name\" v-model.trim=\"organisation.name\" required=\"true\" autofocus :class=\"{'p-invalid': submitted && !organisation.name}\" class=\"p-text-italic\" />\r\n                <small class=\"p-error\" v-if=\"!organisation.name\">Name is required.</small>\r\n            </div>\r\n            <div class=\"p-field\">\r\n                <label for=\"description\">Description</label>\r\n                <Textarea id=\"description\" v-model=\"organisation.description\" class=\"p-text-italic\" required=\"false\" rows=\"3\" cols=\"20\" />\r\n            </div>\r\n            <div class=\"p-field\">\r\n                <label for=\"ispublic\">Should this orgnaisation be public? </label>\r\n                <SelectButton id=\"ispublic\" v-model=\"boolChoice\" :options=\"ispublicbool\" optionLabel=\"name\" @focus=\"ispublicDialog = true\" :disabled=\"true\" class=\"p-mb-3\" />\r\n                <small class=\"p-text-italic\">*Public organisations are visible to anyone. Explicitly granted access is still required for certain operations.</small>\r\n            </div>\r\n        </div>\r\n        <div class=\"p-d-flex p-jc-between\">\r\n            <Button label=\"Save Organisation Details\" class=\"p-button-primary\" @click=\"editOrganisation\" :disabled=\"false\" />\r\n            <Button label=\"Delete Organisation\" class=\"p-button-danger\" @click=\"deleteOrganisationDialog = true\" />\r\n        </div>\r\n    </div>\r\n\r\n    <Dialog v-model:visible=\"ispublicDialog\" :style=\"{width: '450px'}\" header=\"Premium required\" :modal=\"true\">\r\n        <i class=\"pi pi-star p-mr-3\" style=\"font-size: 1.5rem\" />\r\n        <span>You need premium to make your organisation private.</span>\r\n        <template #footer>\r\n            <Button label=\"No thanks\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"ispublicDialog = false\"/>\r\n            <Button label=\"What's Premium?\" icon=\"pi pi-question\" class=\"p-button-text\" @click=\"ispublicDialog = false\" />\r\n        </template>\r\n    </Dialog>\r\n\r\n    <Dialog v-if=\"organisation\" v-model:visible=\"deleteOrganisationDialog\" :style=\"{width: '450px'}\" header=\"Confirm\" :modal=\"true\">\r\n        <div class=\"confirmation-content\">\r\n            <i class=\"pi pi-exclamation-triangle p-mr-3\" style=\"font-size:1.5rem\" />\r\n            <span>Are you sure you want to delete <b>{{organisation.name}}</b>?</span>\r\n        </div>\r\n        <template #footer>\r\n            <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteOrganisationDialog = false\"/>\r\n            <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"removeOrganisation()\" />\r\n        </template>\r\n    </Dialog>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nexport default {\r\n    data () {\r\n        return {\r\n            ispublicbool: [\r\n                { name: 'Public', value: true },\r\n                { name: 'Private', value: false }\r\n            ],\r\n            boolChoice: null,\r\n            ispublicDialog: false,\r\n            deleteOrganisationDialog: false\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('organisation', ['organisation'])\r\n    },\r\n    created () {\r\n        this.initialize()\r\n    },\r\n    methods: {\r\n        ...mapActions('organisation', ['updateOrganisation', 'deleteOrganisation']),\r\n        initialize () {\r\n            this.boolChoice = { name: 'Public', value: this.organisation.ispublic }\r\n        },\r\n        async editOrganisation () {\r\n            await this.updateOrganisation({})\r\n            this.$toast.add({ severity: 'success', summary: 'Successful', detail: 'Organisation Updated', life: 3000 })\r\n        },\r\n        async removeOrganisation () {\r\n            this.deleteOrganisationDialog = false\r\n            await this.deleteOrganisation({ id: this.organisation?.id || 0 })\r\n            this.$toast.add({ severity: 'success', summary: 'Succesful', detail: 'Organisation Deleted', life: 3000 })\r\n            this.$router.push({ name: 'organisations' })\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./OrganisationSettings.vue?vue&type=template&id=3dabf047\"\nimport script from \"./OrganisationSettings.vue?vue&type=script&lang=js\"\nexport * from \"./OrganisationSettings.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}