(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8af4"],{3078:function(e,t,n){"use strict";n.r(t);var o=n("7a23");function r(e,t,n,r,a,i){var c=Object(o["H"])("my-networks");return Object(o["z"])(),Object(o["g"])(c,{query:"?organisation=".concat(this.$route.params.OrganisationId),"organisation-networks":"","selection-enabled":""},null,8,["query"])}n("b0c0");var a={key:1},i={key:2},c={key:0},l={key:1},s={class:"p-input-icon-left"},u=Object(o["k"])("i",{class:"pi pi-search"},null,-1),d={key:0},b=Object(o["j"])(" Loading records, please wait... "),p={key:1,class:"p-p-3"},g=Object(o["k"])("h3",{class:"p-text-light p-text-italic"},"There are no networks to display",-1),k={class:"confirmation-content"},O=Object(o["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"2rem"}},null,-1),f=Object(o["j"])("? ");function j(e,t,n,r,j,w){var h=Object(o["H"])("ToggleButton"),m=Object(o["H"])("Button"),v=Object(o["H"])("InputText"),R=Object(o["H"])("Toolbar"),y=Object(o["H"])("Column"),N=Object(o["H"])("DataTable"),x=Object(o["H"])("Dialog");return Object(o["z"])(),Object(o["g"])(o["a"],null,[Object(o["k"])(R,null,{left:Object(o["R"])((function(){return[n.selectionEnabled?(Object(o["z"])(),Object(o["g"])(h,{key:0,modelValue:j.selectionToggle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return j.selectionToggle=e}),onLabel:"Selecting: Enabled",offLabel:"Selecting: Disabled",onIcon:"pi pi-check",offIcon:"pi pi-times",class:"p-mr-2"},null,8,["modelValue"])):Object(o["h"])("",!0),n.organisationNetworks?(Object(o["z"])(),Object(o["g"])("div",i,[j.addingProcess?(Object(o["z"])(),Object(o["g"])("div",l,[Object(o["k"])(m,{label:"Show owned networks",class:"p-button-secondary p-mr-2",onClick:t[6]||(t[6]=function(e){return w.initialize()})}),Object(o["k"])(m,{label:"request Network Participation",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[7]||(t[7]=function(e){return j.Dialog=!0}),disabled:!j.selectedRows.length},null,8,["disabled"])])):(Object(o["z"])(),Object(o["g"])("div",c,[Object(o["k"])(m,{label:"Join Network",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[4]||(t[4]=function(e){return w.addableNetworks()})}),Object(o["k"])(m,{label:"Leave Network",icon:"pi pi-plus",class:"p-button-danger",onClick:t[5]||(t[5]=function(e){return j.Dialog=!0}),disabled:!j.selectedRows.length},null,8,["disabled"])]))])):(Object(o["z"])(),Object(o["g"])("div",a,[Object(o["k"])(m,{label:"Create Network",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[2]||(t[2]=function(t){return e.createDialog=!0})}),Object(o["k"])(m,{label:"Delete Network",icon:"pi pi-trash",class:"p-button-danger",onClick:t[3]||(t[3]=function(t){return e.confirmationDialog=!0}),disabled:!j.selectedRows.length},null,8,["disabled"])]))]})),right:Object(o["R"])((function(){return[Object(o["k"])("span",s,[u,Object(o["k"])(v,{modelValue:j.filters["global"],"onUpdate:modelValue":t[8]||(t[8]=function(e){return j.filters["global"]=e}),placeholder:"Search..."},null,8,["modelValue"])])]})),_:1}),e.networks.length?(Object(o["z"])(),Object(o["g"])("div",d,[Object(o["k"])(N,{ref:"dt",value:e.networks,selection:j.selectedRows,"onUpdate:selection":t[9]||(t[9]=function(e){return j.selectedRows=e}),selectionMode:j.selectionToggle?"multiple":"single",dataKey:"id",loading:j.loading,onRowSelect:w.goToSelectedNetwork,paginator:!0,rows:10,filters:j.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",class:"p-datatable-striped"},{loading:Object(o["R"])((function(){return[b]})),default:Object(o["R"])((function(){return[(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["F"])(n.columns,(function(e){return Object(o["z"])(),Object(o["g"])(y,{field:e.field,header:e.header,key:e.field},null,8,["field","header"])})),128))]})),_:1},8,["value","selection","selectionMode","loading","onRowSelect","filters"])])):(Object(o["z"])(),Object(o["g"])("div",p,[g])),Object(o["k"])(x,{visible:j.Dialog,"onUpdate:visible":t[12]||(t[12]=function(e){return j.Dialog=e}),style:{width:"450px"},header:"Confirm",modal:!0},{footer:Object(o["R"])((function(){return[Object(o["k"])(m,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[10]||(t[10]=function(e){return j.Dialog=!1})}),Object(o["k"])(m,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[11]||(t[11]=function(e){return w.addOrRemoveNetworks()})})]})),default:Object(o["R"])((function(){return[Object(o["k"])("div",k,[O,Object(o["k"])("span",null,"Are you sure you want to "+Object(o["L"])(j.addingProcess?"join":"delete")+": ",1),(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["F"])(j.selectedRows,(function(e){return Object(o["z"])(),Object(o["g"])("div",{key:e.id},[Object(o["k"])("b",null,Object(o["L"])(e.name),1)])})),128))]),f]})),_:1},8,["visible"])],64)}var w=n("b85c"),h=n("1da1"),m=n("5530"),v=(n("96cf"),n("5502")),R={props:{columns:{type:Array,default:function(){return[{field:"ispublic",header:"Public"},{field:"name",header:"Name"},{field:"description",header:"Description"},{field:"organisations.length",header:"Organisations"},{field:"created_by.username",header:"Created by"}]}},organisationNetworks:{type:Boolean,default:!1},query:{type:String,default:""},selectionEnabled:{type:Boolean,default:!1}},data:function(){return{filters:{},selectedRows:[],selectionToggle:!1,addingProcess:!1,Dialog:!1,loading:!0}},computed:Object(m["a"])(Object(m["a"])({},Object(v["d"])("network",["networks","network"])),Object(v["d"])("organisation",["organisation"])),created:function(){this.initialize()},methods:Object(m["a"])(Object(m["a"])({},Object(v["b"])("network",["fetchNetworks","setNetwork","patchNetwork"])),{},{initialize:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchNetworks({query:e.query});case 3:e.loading=!1,e.selectedRows=[],e.addingProcess=!1,e.selectionToggle=!1;case 7:case"end":return t.stop()}}),t)})))()},addableNetworks:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchNetworks({query:"?excludeorganisation=".concat(e.$route.params.OrganisationId)});case 2:e.addingProcess=!0,e.selectionToggle=!0,e.selectedRows=[];case 5:case"end":return t.stop()}}),t)})))()},addOrRemoveNetworks:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(w["a"])(e.selectedRows),t.prev=1,n.s();case 3:if((o=n.n()).done){t.next=10;break}return r=o.value,t.next=7,e.patchNetwork({id:r.id,data:[e.organisation]});case 7:console.log(e.organisation);case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:e.Dialog=!1,e.initialize();case 20:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},goToSelectedNetwork:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.selectionToggle){n.next=4;break}return n.next=3,t.setNetwork(e.data);case 3:t.$router.push({name:"networkdetails",params:{id:(null===(o=t.network)||void 0===o?void 0:o.id)||0}});case 4:case"end":return n.stop()}}),n)})))()}})};R.render=j;var y=R,N={components:{MyNetworks:y}};N.render=r;t["default"]=N}}]);
//# sourceMappingURL=chunk-2d0b8af4.2f5b058c.js.map