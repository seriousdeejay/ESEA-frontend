(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213ad9"],{ae65:function(e,t,i){"use strict";i.r(t);i("b0c0"),i("a4d3"),i("e01a");var n=i("7a23"),a={class:"p-px-5",style:{width:"500px"}},o={class:"p-fluid p-text-left p-my-5"},l={class:"p-field"},s=Object(n["k"])("label",{for:"name"},"Name",-1),c={key:0,class:"p-error"},r={class:"p-field"},u=Object(n["k"])("label",{for:"description"},"Description",-1),b={class:"p-field"},d=Object(n["k"])("label",{for:"ispublic"},"Should this orgnaisation be public? ",-1),p=Object(n["k"])("small",{class:"p-text-italic"},"*Public organisations are visible to anyone. Explicitly granted access is still required for certain operations.",-1),O={class:"p-d-flex p-jc-between"},m=Object(n["k"])("i",{class:"pi pi-star p-mr-3",style:{"font-size":"1.5rem"}},null,-1),g=Object(n["k"])("span",null,"You need premium to make your organisation private.",-1),j={class:"confirmation-content"},f=Object(n["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"1.5rem"}},null,-1),k=Object(n["j"])("Are you sure you want to delete "),v=Object(n["j"])("?");function h(e,t,i,h,x,w){var y=Object(n["H"])("InputText"),D=Object(n["H"])("Textarea"),C=Object(n["H"])("SelectButton"),V=Object(n["H"])("Button"),R=Object(n["H"])("Dialog");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])("div",a,[Object(n["k"])("div",o,[Object(n["k"])("div",l,[s,Object(n["k"])(y,{id:"name",modelValue:e.organisation.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.organisation.name=t}),modelModifiers:{trim:!0},required:"true",autofocus:"",class:[{"p-invalid":e.submitted&&!e.organisation.name},"p-text-italic"]},null,8,["modelValue","class"]),e.organisation.name?Object(n["h"])("",!0):(Object(n["z"])(),Object(n["g"])("small",c,"Name is required."))]),Object(n["k"])("div",r,[u,Object(n["k"])(D,{id:"description",modelValue:e.organisation.description,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.organisation.description=t}),class:"p-text-italic",required:"false",rows:"3",cols:"20"},null,8,["modelValue"])]),Object(n["k"])("div",b,[d,Object(n["k"])(C,{id:"ispublic",modelValue:x.boolChoice,"onUpdate:modelValue":t[3]||(t[3]=function(e){return x.boolChoice=e}),options:x.ispublicbool,optionLabel:"name",onFocus:t[4]||(t[4]=function(e){return x.ispublicDialog=!0}),disabled:!0,class:"p-mb-3"},null,8,["modelValue","options"]),p])]),Object(n["k"])("div",O,[Object(n["k"])(V,{label:"Save Organisation Details",class:"p-button-primary",onClick:w.editOrganisation,disabled:!1},null,8,["onClick"]),Object(n["k"])(V,{label:"Delete Organisation",class:"p-button-danger",onClick:t[5]||(t[5]=function(e){return x.deleteOrganisationDialog=!0})})])]),Object(n["k"])(R,{visible:x.ispublicDialog,"onUpdate:visible":t[8]||(t[8]=function(e){return x.ispublicDialog=e}),style:{width:"450px"},header:"Premium required",modal:!0},{footer:Object(n["R"])((function(){return[Object(n["k"])(V,{label:"No thanks",icon:"pi pi-times",class:"p-button-text",onClick:t[6]||(t[6]=function(e){return x.ispublicDialog=!1})}),Object(n["k"])(V,{label:"What's Premium?",icon:"pi pi-question",class:"p-button-text",onClick:t[7]||(t[7]=function(e){return x.ispublicDialog=!1})})]})),default:Object(n["R"])((function(){return[m,g]})),_:1},8,["visible"]),e.organisation?(Object(n["z"])(),Object(n["g"])(R,{key:0,visible:x.deleteOrganisationDialog,"onUpdate:visible":t[11]||(t[11]=function(e){return x.deleteOrganisationDialog=e}),style:{width:"450px"},header:"Confirm",modal:!0},{footer:Object(n["R"])((function(){return[Object(n["k"])(V,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[9]||(t[9]=function(e){return x.deleteOrganisationDialog=!1})}),Object(n["k"])(V,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[10]||(t[10]=function(e){return w.removeOrganisation()})})]})),default:Object(n["R"])((function(){return[Object(n["k"])("div",j,[f,Object(n["k"])("span",null,[k,Object(n["k"])("b",null,Object(n["L"])(e.organisation.name),1),v])])]})),_:1},8,["visible"])):Object(n["h"])("",!0)],64)}var x=i("1da1"),w=i("5530"),y=(i("96cf"),i("5502")),D={data:function(){return{ispublicbool:[{name:"Public",value:!0},{name:"Private",value:!1}],boolChoice:null,ispublicDialog:!1,deleteOrganisationDialog:!1}},computed:Object(w["a"])({},Object(y["d"])("organisation",["organisation"])),created:function(){this.initialize()},methods:Object(w["a"])(Object(w["a"])({},Object(y["b"])("organisation",["updateOrganisation","deleteOrganisation"])),{},{initialize:function(){this.boolChoice={name:"Public",value:this.organisation.ispublic}},editOrganisation:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updateOrganisation({});case 2:e.$toast.add({severity:"success",summary:"Successful",detail:"Organisation Updated",life:3e3});case 3:case"end":return t.stop()}}),t)})))()},removeOrganisation:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleteOrganisationDialog=!1,t.next=3,e.deleteOrganisation({id:(null===(i=e.organisation)||void 0===i?void 0:i.id)||0});case 3:e.$toast.add({severity:"success",summary:"Succesful",detail:"Organisation Deleted",life:3e3}),e.$router.push({name:"organisations"});case 5:case"end":return t.stop()}}),t)})))()}})};D.render=h;t["default"]=D}}]);
//# sourceMappingURL=chunk-2d213ad9.24599a22.js.map