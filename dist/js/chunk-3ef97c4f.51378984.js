(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ef97c4f"],{"9f3d":function(e,t,o){"use strict";o("b0c0");var n=o("7a23"),c={key:0},i={key:0},a={key:1},r={class:"p-input-icon-left"},l=Object(n["k"])("i",{class:"pi pi-search"},null,-1),s={key:0},d={key:1,class:"p-p-3 p-text-bold"},u={class:"confirmation-content"},b=Object(n["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"2rem"}},null,-1),h={key:0},p=Object(n["j"])("Are you sure you want to "),f=Object(n["j"])(" the following methods?"),m={key:1},j=Object(n["j"])("Are you sure you want to "),O=Object(n["k"])("b",null,"delete",-1),g=Object(n["j"])(" the following methods?"),k=Object(n["k"])("br",null,null,-1),w={class:"p-shadow-2 p-m-3 p-p-3"},v=Object(n["k"])("p",null,"Drag and drop your YAML file here to upload.",-1);function y(e,t,o,y,M,R){var z=Object(n["H"])("Button"),x=Object(n["H"])("ToggleButton"),D=Object(n["H"])("InputText"),T=Object(n["H"])("Toolbar"),P=Object(n["H"])("Column"),C=Object(n["H"])("DataTable"),L=Object(n["H"])("Dialog"),S=Object(n["H"])("FileUpload");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(T,null,{left:Object(n["R"])((function(){return[Object(n["k"])(z,{label:"Create Method",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[1]||(t[1]=function(e){return M.importDialog=!0})}),o.networkMethods?(Object(n["z"])(),Object(n["g"])("div",c,[M.addingProcess?(Object(n["z"])(),Object(n["g"])("div",a,[Object(n["k"])(z,{label:"Show network methods",class:"p-button-success p-mr-2",onClick:t[5]||(t[5]=function(e){return R.initialize()})}),Object(n["k"])(z,{label:"Add selected Methods",class:"p-button-primary p-mr-2",onClick:t[6]||(t[6]=function(e){return M.confirmationDialog=!0}),disabled:!M.selectedRows.length},null,8,["disabled"])])):(Object(n["z"])(),Object(n["g"])("div",i,[o.selectionEnabled?(Object(n["z"])(),Object(n["g"])(x,{key:0,modelValue:M.selectionToggle,"onUpdate:modelValue":t[2]||(t[2]=function(e){return M.selectionToggle=e}),onLabel:"Selecting: Enabled",offLabel:"Selecting: Disabled",onIcon:"pi pi-check",offIcon:"pi pi-times",class:"p-mr-2"},null,8,["modelValue"])):Object(n["h"])("",!0),Object(n["k"])(z,{label:"Add Methods",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[3]||(t[3]=function(e){return R.addableMethods()})}),Object(n["k"])(z,{label:"Remove Methods",icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return M.confirmationDialog=!0}),disabled:!M.selectedRows.length},null,8,["disabled"])]))])):Object(n["h"])("",!0)]})),right:Object(n["R"])((function(){return[Object(n["k"])("span",r,[l,Object(n["k"])(D,{modelValue:M.filters["global"],"onUpdate:modelValue":t[7]||(t[7]=function(e){return M.filters["global"]=e}),placeholder:"Search..."},null,8,["modelValue"])])]})),_:1}),e.methods.length?(Object(n["z"])(),Object(n["g"])("div",s,[Object(n["k"])(C,{ref:"dt",value:e.methods,selection:M.selectedRows,"onUpdate:selection":t[8]||(t[8]=function(e){return M.selectedRows=e}),selectionMode:M.selectionToggle?"multiple":"single",dataKey:"id",metaKeySelection:!1,onRowSelect:R.goToSelectedMethods,paginator:!0,rows:10,filters:M.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",class:"p-datatable-striped"},{default:Object(n["R"])((function(){return[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(o.columns,(function(e){return Object(n["z"])(),Object(n["g"])(P,{field:e.field,header:e.header,key:e.field},null,8,["field","header"])})),128))]})),_:1},8,["value","selection","selectionMode","onRowSelect","filters"])])):(Object(n["z"])(),Object(n["g"])("div",d,Object(n["L"])(M.addingProcess?"There are no methods to add, create one first!":"This network has no methods, add one!"),1)),Object(n["k"])(L,{visible:M.confirmationDialog,"onUpdate:visible":t[12]||(t[12]=function(e){return M.confirmationDialog=e}),style:{width:"450px"},header:"Confirm",modal:!0},{footer:Object(n["R"])((function(){return[Object(n["k"])(z,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[9]||(t[9]=function(e){return(M.confirmationDialog=!1)&&(M.selectedRows=[])})}),o.networkMethods?(Object(n["z"])(),Object(n["g"])(z,{key:0,label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[10]||(t[10]=function(e){return M.addingProcess?R.addMethods():R.removeMethods()})})):(Object(n["z"])(),Object(n["g"])(z,{key:1,label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[11]||(t[11]=function(e){return R.deleteMethods()})}))]})),default:Object(n["R"])((function(){return[Object(n["k"])("div",u,[b,o.networkMethods?(Object(n["z"])(),Object(n["g"])("span",h,[p,Object(n["k"])("b",null,Object(n["L"])(M.addingProcess?"add":"remove"),1),f])):(Object(n["z"])(),Object(n["g"])("span",m,[j,O,g])),k,Object(n["k"])("div",w,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(M.selectedRows,(function(e){return Object(n["z"])(),Object(n["g"])("div",{key:e.name},Object(n["L"])(e.name),1)})),128))])])]})),_:1},8,["visible"]),Object(n["k"])(L,{visible:M.importDialog,"onUpdate:visible":t[14]||(t[14]=function(e){return M.importDialog=e}),style:{width:"450px"},header:"Import your Method",modal:!0,class:"p-fluid"},{footer:Object(n["R"])((function(){return[Object(n["k"])(z,{label:"Remove window",icon:"pi pi-times",class:"p-button-text",onClick:t[13]||(t[13]=function(e){return M.importDialog=!1})})]})),default:Object(n["R"])((function(){return[Object(n["k"])(S,{name:"myfile",customUpload:!0,onUploader:R.onUpload,fileLimit:1,accept:".yaml",maxFileSize:1e6},{empty:Object(n["R"])((function(){return[v]})),_:1},8,["onUploader"])]})),_:1},8,["visible"])],64)}var M=o("1da1"),R=o("5530"),z=(o("159b"),o("d3b7"),o("96cf"),o("be3b")),x=o("5502"),D={props:{columns:{type:Array,default:function(){return[{field:"name",header:"Name"},{field:"description",header:"Description"},{field:"",header:""}]}},networkMethods:{type:Boolean,default:!1},selectionEnabled:{type:Boolean,default:!1}},data:function(){return{filters:{},selectedRows:[],selectionToggle:!1,addingProcess:!1,confirmationDialog:!1,importDialog:!1}},computed:Object(R["a"])(Object(R["a"])({},Object(x["d"])("method",["methods","method"])),Object(x["d"])("network",["network"])),created:function(){this.initialize()},methods:Object(R["a"])(Object(R["a"])(Object(R["a"])({},Object(x["b"])("method",["fetchMethods","setMethod","uploadMethod"])),Object(x["b"])("network",["patchNetwork"])),{},{initialize:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.networkMethods?(console.log("eee"),e.fetchMethods({query:"?network=".concat((null===(o=e.network)||void 0===o?void 0:o.id)||0)})):e.fetchMethods({}),e.selectedRows=[],e.confirmationDialog=!1,e.addingProcess=!1;case 4:case"end":return t.stop()}}),t)})))()},createMethod:function(e){console.log("create method")},addableMethods:function(){var e;this.fetchMethods({query:"?excludenetwork=".concat((null===(e=this.network)||void 0===e?void 0:e.id)||0)}),this.addingProcess=!0,this.selectionToggle=!0},addMethods:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patchNetwork(e.selectedRows);case 2:e.initialize();case 3:case"end":return t.stop()}}),t)})))()},removeMethods:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patchNetwork(e.selectedRows);case 2:e.selectedRows.forEach((function(t,o){e.$toast.add({severity:"success",summary:"The following method was removed",detail:"".concat(t.name),life:3e3})})),e.initialize();case 4:case"end":return t.stop()}}),t)})))()},deleteMethods:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.selectedRows.forEach((function(t,o){e.deleteOrganisation({id:(null===t||void 0===t?void 0:t.id)||0}),e.$toast.add({severity:"success",summary:"The following method was deleted",detail:"".concat(t.name),life:3e3})}));case 2:case"end":return t.stop()}}),t)})))()},onUpload:function(e){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n=new FormData,n.append("file",e.files[0]),o.abrupt("return",new Promise((function(e,o){z["a"].post("/import-yaml/",n).then((function(o){t.importDialog=!1,t.$toast.add({severity:"success",summary:"Method created",detail:"New method",life:3e3}),t.initialize(),e()})).catch((function(e){o(e)}))})));case 3:case"end":return o.stop()}}),o)})))()},goToSelectedMethods:function(e){this.$toast.add({severity:"info",summary:"Method Selected",detail:"".concat(e.data.name),life:3e3}),this.selectionToggle||(this.setMethod(Object(R["a"])({},e.data)),this.$router.push({name:"methoddetails",params:{id:e.data.id}}))}})};D.render=y;t["a"]=D},f82d:function(e,t,o){"use strict";o.r(t);var n=o("7a23"),c={class:"methods"},i=Object(n["k"])("h1",null,"Methods Overview",-1),a={class:"card p-m-5 p-shadow-2"};function r(e,t,o,r,l,s){var d=Object(n["H"])("Button"),u=Object(n["H"])("Toast"),b=Object(n["H"])("my-methods");return Object(n["z"])(),Object(n["g"])("div",c,[i,Object(n["k"])(d,{label:"Method Wizard",onClick:s.goToMethodCreate},null,8,["onClick"]),Object(n["k"])(u,{position:"top-right"}),Object(n["k"])("div",a,[Object(n["k"])(b,{columns:l.columns,"selection-enabled":""},null,8,["columns"])])])}var l=o("1da1"),s=o("5530"),d=(o("96cf"),o("5502")),u=o("9f3d"),b={components:{MyMethods:u["a"]},data:function(){return{columns:[{field:"ispublic",header:"public"},{field:"name",header:"Name"},{field:"description",header:"Description"},{field:"surveys.length",header:"Surveys"},{field:"networks.length",header:"Networks"},{field:"organisations.length",header:"Organisations"}]}},computed:Object(s["a"])({},Object(d["d"])("method",["method"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["b"])("method",["createMethod"])),{},{goToMethodCreate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createMethod({});case 2:e.$router.push({name:"method-create",params:{id:e.method.id}});case 3:case"end":return t.stop()}}),t)})))()}})};b.render=r;t["default"]=b}}]);
//# sourceMappingURL=chunk-3ef97c4f.51378984.js.map