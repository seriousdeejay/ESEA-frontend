(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9c4867e"],{"0630":function(e,t,s){"use strict";s.r(t);var n=s("7a23"),c={class:"users"},r=Object(n["k"])("h1",null,"Manage Users",-1),a={class:"card p-m-5 p-shadow-2"},i={class:"p-input-icon-left"},l=Object(n["k"])("i",{class:"pi pi-search"},null,-1);function o(e,t,s,o,u,d){var b=Object(n["H"])("my-users"),p=Object(n["H"])("Toast"),f=Object(n["H"])("ToggleButton"),m=Object(n["H"])("Button"),j=Object(n["H"])("InputText"),O=Object(n["H"])("Toolbar"),g=Object(n["H"])("personalised-datatable");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(b),Object(n["k"])("div",c,[r,Object(n["k"])(p,{position:"top-right"}),Object(n["k"])("div",a,[Object(n["k"])(O,null,{left:Object(n["R"])((function(){return[Object(n["k"])(f,{modelValue:u.selectionToggle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.selectionToggle=e}),onLabel:"Selecting: Enabled",offLabel:"Selecting: Disabled",onIcon:"pi pi-check",offIcon:"pi pi-times",class:"p-mr-2"},null,8,["modelValue"]),Object(n["k"])(m,{label:"Send Message",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:e.something,disabled:0===u.selectedUsers.length},null,8,["onClick","disabled"])]})),right:Object(n["R"])((function(){return[Object(n["k"])("span",i,[l,Object(n["k"])(j,{modelValue:u.filters["global"],"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.filters["global"]=e}),placeholder:"Search..."},null,8,["modelValue"])])]})),_:1}),Object(n["k"])(g,{"table-name":"users",selectionToggle:"",columns:u.ParticipantsColumns,filters:u.filters,"custom-data":e.users,onItemRedirect:d.goToUser},null,8,["columns","filters","custom-data","onItemRedirect"])])])],64)}var u=s("1da1"),d=s("5530"),b=(s("96cf"),s("5502")),p=s("b371"),f=(s("ac1f"),s("841c"),{class:"p-d-flex p-jc-between p-m-5",style:{"min-width":"600px"}}),m={class:"p-input-icon-left"},j=Object(n["k"])("i",{class:"pi pi-search"},null,-1),O={class:"p-grid p-m-5"},g={class:"p-text-italic"},h={class:"p-field"},k=Object(n["j"])(" Select Users "),v={class:"p-field p-grid"},w=Object(n["k"])("label",{for:"message",class:"p-col-12"},"Message to selected User(s)",-1);function R(e,t,s,c,r,a){var i=Object(n["H"])("Button"),l=Object(n["H"])("InputText"),o=Object(n["H"])("Divider"),u=Object(n["H"])("MultiSelect"),d=Object(n["H"])("Textarea"),b=Object(n["H"])("Dialog");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])("div",f,[Object(n["k"])(i,{label:"Send Message",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[1]||(t[1]=function(e){return r.messageDialog=!0}),disabled:!e.users.length},null,8,["disabled"]),Object(n["k"])("span",m,[j,Object(n["k"])(l,{modelValue:r.search,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.search=e}),placeholder:"Search user by name or email...",style:{width:"300px"}},null,8,["modelValue"])])]),Object(n["k"])(o),Object(n["k"])("div",O,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(a.filteredList,(function(t){return Object(n["z"])(),Object(n["g"])("div",{key:t.id,class:"p-col-12 p-md-6 p-lg-4",style:{width:"220px",height:"auto"}},[Object(n["k"])("div",{class:["p-p-3",t.hover?"p-shadow-1 p-m-0":"p-m-0"],style:t.hover?e.styleObject:"",onMouseover:function(e){return t.hover=!0},onMouseleave:function(e){return t.hover=!1},onClick:function(e){return a.goToUser(t)}},[Object(n["k"])("img",{src:t.image,alt:"Profile Avatar",style:{"max-width":"100px","max-height":"100px","border-radius":"50%"},format:"PNG"},null,8,["src"]),Object(n["k"])("p",g,Object(n["L"])(t.username),1)],46,["onMouseover","onMouseleave","onClick"])])})),128))]),Object(n["k"])(b,{visible:r.messageDialog,"onUpdate:visible":t[7]||(t[7]=function(e){return r.messageDialog=e}),modal:"true",header:"Send Message",dismissableMask:"true",class:"p-fluid"},{footer:Object(n["R"])((function(){return[Object(n["k"])(i,{label:"Send Message",icon:"pi pi-plus",onClick:t[5]||(t[5]=function(t){return e.SendMessage()})}),Object(n["k"])(i,{label:"Cancel",icon:"pi pi-check",class:"p-button-text",onClick:t[6]||(t[6]=function(e){return r.messageDialog=!1})})]})),default:Object(n["R"])((function(){return[Object(n["k"])("div",h,[Object(n["k"])(u,{id:"users",modelValue:r.usersToMessage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.usersToMessage=e}),options:e.users,optionLabel:"username",placeholder:"Select Users",filter:!0,class:"multiselect-custom"},{value:Object(n["R"])((function(e){return[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(e.value,(function(e){return Object(n["z"])(),Object(n["g"])("div",{key:e.id},[Object(n["k"])("div",null,Object(n["L"])(e.username),1)])})),128)),e.value&&0!==e.value.length?Object(n["h"])("",!0):(Object(n["z"])(),Object(n["g"])(n["a"],{key:0},[k],64))]})),option:Object(n["R"])((function(e){return[Object(n["k"])("div",null,Object(n["L"])(e.option.username),1)]})),_:1},8,["modelValue","options"])]),Object(n["k"])("div",v,[w,Object(n["k"])(d,{id:"message",modelValue:e.something,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.something=t}),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])])]})),_:1},8,["visible"])],64)}s("4de4"),s("caad"),s("2532");var U=s("4147"),x={components:{MultiSelect:U["a"]},data:function(){return{search:"",messageDialog:!1,usersToMessage:[]}},computed:Object(d["a"])(Object(d["a"])({},Object(b["d"])("user",["users"])),{},{filteredList:function(){var e=this;return this.users.filter((function(t){return t.username.toLowerCase().includes(e.search.toLowerCase())}))}}),created:function(){this.initialize()},methods:Object(d["a"])(Object(d["a"])({},Object(b["b"])("user",["fetchUsers","setUser"])),{},{initialize:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUsers({});case 2:case"end":return t.stop()}}),t)})))()},sendMessage:function(){},goToUser:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.setUser(Object(d["a"])({},e));case 2:console.log(e),t.$router.push({name:"userdetails",params:{id:e.id}});case 4:case"end":return s.stop()}}),s)})))()}})};x.render=R;var y=x,S={name:"Users",components:{PersonalisedDatatable:p["a"],MyUsers:y},data:function(){return{ParticipantsColumns:[{field:"username",header:"Username"},{field:"email",header:"E-mail"},{field:"first_name",header:"First Name"},{field:"last_name_prefix",header:"Prefix"},{field:"last_name",header:"Last Name"}],selectionToggle:!1,filters:{},selectedUsers:[]}},computed:Object(d["a"])({},Object(b["d"])("user",["users","user"])),created:function(){this.initialize()},methods:Object(d["a"])(Object(d["a"])({},Object(b["b"])("user",["fetchUsers","setUser"])),{},{initialize:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUsers({});case 2:case"end":return t.stop()}}),t)})))()},goToUser:function(e){console.log(e),this.$toast.add({severity:"info",summary:"User Selected",detail:"".concat(e[e.length-1].username),life:3e3}),this.selectionToggle?(this.selectedUsers=e,console.log(this.selectedUsers.length)):(this.setUser(Object(d["a"])({},e[0])),this.$router.push({name:"userdetails",params:{id:this.user.id}}))}})};S.render=o;t["default"]=S},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"841c":function(e,t,s){"use strict";var n=s("d784"),c=s("825a"),r=s("1d80"),a=s("129f"),i=s("14c3");n("search",1,(function(e,t,s){return[function(t){var s=r(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,s):new RegExp(t)[e](String(s))},function(e){var n=s(t,e,this);if(n.done)return n.value;var r=c(e),l=String(this),o=r.lastIndex;a(o,0)||(r.lastIndex=0);var u=i(r,l);return a(r.lastIndex,o)||(r.lastIndex=o),null===u?-1:u.index}]}))},b371:function(e,t,s){"use strict";var n=s("7a23");function c(e,t,s,c,r,a){var i=Object(n["H"])("Column"),l=Object(n["H"])("DataTable");return Object(n["z"])(),Object(n["g"])(l,{ref:"dt",value:s.customData,selection:r.selectedRows,"onUpdate:selection":t[1]||(t[1]=function(e){return r.selectedRows=e}),selectionMode:s.selectionToggle?"multiple":"single",dataKey:"id",metaKeySelection:!1,onRowSelect:a.onRowSelect,paginator:!0,rows:10,filters:s.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",class:"p-datatable-striped"},{default:Object(n["R"])((function(){return[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(s.columns,(function(e){return Object(n["z"])(),Object(n["g"])(i,{field:e.field,header:e.header,key:e.field},Object(n["i"])({_:2},["ispublic"===e.field?{name:"body",fn:Object(n["R"])((function(e){return[Object(n["k"])("i",{class:["pi",{"true-icon pi-check-circle":e.data.ispublic,"false-icon pi-times-circle":!e.data.ispublic}]},null,2)]}))}:void 0]),1032,["field","header"])})),128))]})),_:1},8,["value","selection","selectionMode","onRowSelect","filters"])}var r={props:{tableName:{type:String},customData:{type:Object},columns:{type:Array},selectionToggle:{type:Boolean},filters:{type:Object}},data:function(){return{selectedRows:null}},watch:{selectedRows:function(e){e&&console.log(this.selectedRows)}},methods:{onRowSelect:function(e){this.$emit("item-redirect",this.selectedRows)}}};r.render=c;t["a"]=r}}]);
//# sourceMappingURL=chunk-f9c4867e.97c0e89d.js.map