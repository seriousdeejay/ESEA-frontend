(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ee2111e"],{"1f20":function(e,t,n){"use strict";n.r(t);var o=n("7a23");function i(e,t,n,i,c,a){var r=Object(o["H"])("my-methods");return Object(o["z"])(),Object(o["g"])(r,{columns:c.columns,"network-methods":"","selection-enabled":""},null,8,["columns"])}var c=n("9f3d"),a={components:{MyMethods:c["a"]},data:function(){return{columns:[{field:"name",header:"Name"},{field:"description",header:"Description"},{field:"surveys.length",header:"Surveys"}]}}};a.render=i;t["default"]=a},"9f3d":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),i={key:0},c={key:0},a={key:1},r={class:"p-input-icon-left"},l=Object(o["k"])("i",{class:"pi pi-search"},null,-1),s={key:0},d={key:1,class:"p-p-3 p-text-bold"},u={class:"confirmation-content"},b=Object(o["k"])("i",{class:"pi pi-exclamation-triangle p-mr-3",style:{"font-size":"2rem"}},null,-1),p={key:0},h=Object(o["j"])("Are you sure you want to "),f=Object(o["j"])(" the following methods?"),m={key:1},j=Object(o["j"])("Are you sure you want to "),O=Object(o["k"])("b",null,"delete",-1),g=Object(o["j"])(" the following methods?"),k=Object(o["k"])("br",null,null,-1),w={class:"p-shadow-2 p-m-3 p-p-3"},v=Object(o["k"])("p",null,"Drag and drop your YAML file here to upload.",-1);function y(e,t,n,y,R,M){var z=Object(o["H"])("Button"),D=Object(o["H"])("ToggleButton"),x=Object(o["H"])("InputText"),P=Object(o["H"])("Toolbar"),T=Object(o["H"])("Column"),C=Object(o["H"])("DataTable"),L=Object(o["H"])("Dialog"),S=Object(o["H"])("FileUpload");return Object(o["z"])(),Object(o["g"])(o["a"],null,[Object(o["k"])(P,null,{left:Object(o["R"])((function(){return[Object(o["k"])(z,{label:"Create Method",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[1]||(t[1]=function(e){return R.importDialog=!0})}),n.networkMethods?(Object(o["z"])(),Object(o["g"])("div",i,[R.addingProcess?(Object(o["z"])(),Object(o["g"])("div",a,[Object(o["k"])(z,{label:"Show network methods",class:"p-button-success p-mr-2",onClick:t[5]||(t[5]=function(e){return M.initialize()})}),Object(o["k"])(z,{label:"Add selected Methods",class:"p-button-primary p-mr-2",onClick:t[6]||(t[6]=function(e){return R.confirmationDialog=!0}),disabled:!R.selectedRows.length},null,8,["disabled"])])):(Object(o["z"])(),Object(o["g"])("div",c,[n.selectionEnabled?(Object(o["z"])(),Object(o["g"])(D,{key:0,modelValue:R.selectionToggle,"onUpdate:modelValue":t[2]||(t[2]=function(e){return R.selectionToggle=e}),onLabel:"Selecting: Enabled",offLabel:"Selecting: Disabled",onIcon:"pi pi-check",offIcon:"pi pi-times",class:"p-mr-2"},null,8,["modelValue"])):Object(o["h"])("",!0),Object(o["k"])(z,{label:"Add Methods",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[3]||(t[3]=function(e){return M.addableMethods()})}),Object(o["k"])(z,{label:"Remove Methods",icon:"pi pi-trash",class:"p-button-danger",onClick:t[4]||(t[4]=function(e){return R.confirmationDialog=!0}),disabled:!R.selectedRows.length},null,8,["disabled"])]))])):Object(o["h"])("",!0)]})),right:Object(o["R"])((function(){return[Object(o["k"])("span",r,[l,Object(o["k"])(x,{modelValue:R.filters["global"],"onUpdate:modelValue":t[7]||(t[7]=function(e){return R.filters["global"]=e}),placeholder:"Search..."},null,8,["modelValue"])])]})),_:1}),e.methods.length?(Object(o["z"])(),Object(o["g"])("div",s,[Object(o["k"])(C,{ref:"dt",value:e.methods,selection:R.selectedRows,"onUpdate:selection":t[8]||(t[8]=function(e){return R.selectedRows=e}),selectionMode:R.selectionToggle?"multiple":"single",dataKey:"id",metaKeySelection:!1,onRowSelect:M.goToSelectedMethods,paginator:!0,rows:10,filters:R.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",class:"p-datatable-striped"},{default:Object(o["R"])((function(){return[(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["F"])(n.columns,(function(e){return Object(o["z"])(),Object(o["g"])(T,{field:e.field,header:e.header,key:e.field},null,8,["field","header"])})),128))]})),_:1},8,["value","selection","selectionMode","onRowSelect","filters"])])):(Object(o["z"])(),Object(o["g"])("div",d,Object(o["L"])(R.addingProcess?"There are no methods to add, create one first!":"This network has no methods, add one!"),1)),Object(o["k"])(L,{visible:R.confirmationDialog,"onUpdate:visible":t[12]||(t[12]=function(e){return R.confirmationDialog=e}),style:{width:"450px"},header:"Confirm",modal:!0},{footer:Object(o["R"])((function(){return[Object(o["k"])(z,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[9]||(t[9]=function(e){return(R.confirmationDialog=!1)&&(R.selectedRows=[])})}),n.networkMethods?(Object(o["z"])(),Object(o["g"])(z,{key:0,label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[10]||(t[10]=function(e){return R.addingProcess?M.addMethods():M.removeMethods()})})):(Object(o["z"])(),Object(o["g"])(z,{key:1,label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[11]||(t[11]=function(e){return M.deleteMethods()})}))]})),default:Object(o["R"])((function(){return[Object(o["k"])("div",u,[b,n.networkMethods?(Object(o["z"])(),Object(o["g"])("span",p,[h,Object(o["k"])("b",null,Object(o["L"])(R.addingProcess?"add":"remove"),1),f])):(Object(o["z"])(),Object(o["g"])("span",m,[j,O,g])),k,Object(o["k"])("div",w,[(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["F"])(R.selectedRows,(function(e){return Object(o["z"])(),Object(o["g"])("div",{key:e.name},Object(o["L"])(e.name),1)})),128))])])]})),_:1},8,["visible"]),Object(o["k"])(L,{visible:R.importDialog,"onUpdate:visible":t[14]||(t[14]=function(e){return R.importDialog=e}),style:{width:"450px"},header:"Import your Method",modal:!0,class:"p-fluid"},{footer:Object(o["R"])((function(){return[Object(o["k"])(z,{label:"Remove window",icon:"pi pi-times",class:"p-button-text",onClick:t[13]||(t[13]=function(e){return R.importDialog=!1})})]})),default:Object(o["R"])((function(){return[Object(o["k"])(S,{name:"myfile",customUpload:!0,onUploader:M.onUpload,fileLimit:1,accept:".yaml",maxFileSize:1e6},{empty:Object(o["R"])((function(){return[v]})),_:1},8,["onUploader"])]})),_:1},8,["visible"])],64)}var R=n("1da1"),M=n("5530"),z=(n("159b"),n("d3b7"),n("96cf"),n("be3b")),D=n("5502"),x={props:{columns:{type:Array,default:function(){return[{field:"name",header:"Name"},{field:"description",header:"Description"},{field:"",header:""}]}},networkMethods:{type:Boolean,default:!1},selectionEnabled:{type:Boolean,default:!1}},data:function(){return{filters:{},selectedRows:[],selectionToggle:!1,addingProcess:!1,confirmationDialog:!1,importDialog:!1}},computed:Object(M["a"])(Object(M["a"])({},Object(D["d"])("method",["methods","method"])),Object(D["d"])("network",["network"])),created:function(){this.initialize()},methods:Object(M["a"])(Object(M["a"])(Object(M["a"])({},Object(D["b"])("method",["fetchMethods","setMethod","uploadMethod"])),Object(D["b"])("network",["patchNetwork"])),{},{initialize:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.networkMethods?(console.log("eee"),e.fetchMethods({query:"?network=".concat((null===(n=e.network)||void 0===n?void 0:n.id)||0)})):e.fetchMethods({}),e.selectedRows=[],e.confirmationDialog=!1,e.addingProcess=!1;case 4:case"end":return t.stop()}}),t)})))()},createMethod:function(e){console.log("create method")},addableMethods:function(){var e;this.fetchMethods({query:"?excludenetwork=".concat((null===(e=this.network)||void 0===e?void 0:e.id)||0)}),this.addingProcess=!0,this.selectionToggle=!0},addMethods:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patchNetwork(e.selectedRows);case 2:e.initialize();case 3:case"end":return t.stop()}}),t)})))()},removeMethods:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patchNetwork(e.selectedRows);case 2:e.selectedRows.forEach((function(t,n){e.$toast.add({severity:"success",summary:"The following method was removed",detail:"".concat(t.name),life:3e3})})),e.initialize();case 4:case"end":return t.stop()}}),t)})))()},deleteMethods:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.selectedRows.forEach((function(t,n){e.deleteOrganisation({id:(null===t||void 0===t?void 0:t.id)||0}),e.$toast.add({severity:"success",summary:"The following method was deleted",detail:"".concat(t.name),life:3e3})}));case 2:case"end":return t.stop()}}),t)})))()},onUpload:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=new FormData,o.append("file",e.files[0]),n.abrupt("return",new Promise((function(e,n){z["a"].post("/import-yaml/",o).then((function(n){t.importDialog=!1,t.$toast.add({severity:"success",summary:"Method created",detail:"New method",life:3e3}),t.initialize(),e()})).catch((function(e){n(e)}))})));case 3:case"end":return n.stop()}}),n)})))()},goToSelectedMethods:function(e){this.$toast.add({severity:"info",summary:"Method Selected",detail:"".concat(e.data.name),life:3e3}),this.selectionToggle||(this.setMethod(Object(M["a"])({},e.data)),this.$router.push({name:"methoddetails",params:{id:e.data.id}}))}})};x.render=y;t["a"]=x}}]);
//# sourceMappingURL=chunk-3ee2111e.6b6f3724.js.map